langcode: en
status: true
dependencies: {  }
id: upgrade_d6_node_erp_job
class: null
field_plugin_method: null
cck_plugin_method: null
migration_tags:
  - 'Drupal 6'
  - Content
  - 'Stratos ERP'
migration_group: migrate_drupal_6
label: Jobs
source:
  plugin: upgrade_d6_node_erp_job
  node_type: erp_job
process:
  langcode:
    plugin: default_value
    source: language
    default_value: und
  type:
    plugin: default_value
    default_value: se_ticket
  title: title
  uid: node_uid
  status: status
  created: created
  changed: changed
  promote: promote
  sticky: sticky
  body/format:
    plugin: default_value
    default_value: basic_html
  body/value: job_desc
  revision_uid: revision_uid
  revision_log: log
  revision_timestamp: timestamp
  field_ti_open_date/value:
    -
      plugin: callback
      source: field_job_date_value
      callable: strtotime
    -
      plugin: default_value
      default_value: 0
  field_ti_scheduled/value:
    -
      plugin: get
      source: field_job_date_value
    -
      plugin: default_value
      default_value: 0
  field_ti_scheduled/end_value:
    -
      plugin: get
      source: field_job_date_value2
    -
      plugin: default_value
      default_value: 0
  field_ti_type: job_type_ref
  field_bu_ref/target_id: business_ref
  field_ti_id: job_id
  field_ti_owner_ref: owner_ref
  field_ti_priority: job_priority_ref
  field_ti_status_ref: job_status_ref
  field_attachments:
    plugin: iterator
    source: attachments
    process:
      target_id:
        plugin: migration
        migration: upgrade_d6_file
        source: fid
      display:
        plugin: default_value
        default_value: 1
      description: description
destination:
  plugin: 'entity:node'
  default_bundle: se_ticket
migration_dependencies:
  optional:
    - upgrade_d6_user
    - upgrade_d6_file
    - upgrade_d6_term_erp_job_priority
    - upgrade_d6_term_erp_job_type
    - upgrade_d6_term_status
    - upgrade_d6_node_erp_customer
